<html lang="ru">
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://fluidsync2.herokuapp.com/socket.io/socket.io.js"></script>

    <script>
        
        function print(s)
        {
            $('body').append('<p>' + s + '</p>');       
        }

        function subscribe(socket, channel)
        {
            socket.emit('subscribe', channel);
        }

        $(() => {
            let socket = io('https://fluidsync2.herokuapp.com');
            
            socket.on('connect', () => {

                subscribe(socket, 'bar');
                print('FluidSync2 connection');
            });

            socket.on('reconnect', () => {
                
                print('FluidSync2 reconnection');
            });

            socket.on('bar', (message) => {
                print('(To bar)From: ' + message.from);
                print('Payload: ' + message.payload);
            });                        
        });
    </script>
<body> 
</body>
</html>
